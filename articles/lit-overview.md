---
title: "フロントエンド開発におけるLitという選択肢"
emoji: "🔥"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["javascript", "Lit", "WebComponents"]
published: false
---
# フロントエンド開発におけるLitという選択肢

フロントエンドを構築するためのフレームワークは[React](https://ja.reactjs.org/)/[Vue](https://jp.vuejs.org/index.html)などが多く採用されており、次点で[Svelte](https://svelte.jp/)/[Angular](https://angular.jp/)/[Solid](https://www.solidjs.com/)などが有名でしょうか。  
そんな中でも[Lit](https://lit.dev/)というフレームワークに触れる機会があり、なかなかおもしろかったので備忘録もかねてLitについての簡単な解説を記載します。

## Litとは

一言で表すならば[WebComponents](https://developer.mozilla.org/ja/docs/Web/Web_Components)を簡単に活用するためのライブラリです。  
WebComponentsを利用することで、モダンブラウザに最適化した（IE非対応の）開発であればReactやVueなどのフレームワークを使用しなくてもコンポーネントベースの開発が行えます。
しかしながら標準のWebComponentsは記述量が多く仕様も少し複雑なため、Litを活用することでスムーズにWebComponentsでの開発を始められます。

[![LitWebサイト](/images/articles/lit-overview/lit-website.jpg)](https://lit.dev/)

## 特徴

### おすすめできるポイント

Litの最大の強みは標準仕様として定められたWebComponentsを基本としていることでしょう。  
公式のドキュメントページにも記載されているように、基礎的な機能についてはWebComponentsをベースとしているためフレームワーク自体はシンプルでバンドルサイズも小さく抑えられます。

また、「Lit+React」や「Lit+Vue」など他のフレームワークと組み合わせ使用することも想定されており様々な環境を横断してUIパーツを管理することも得意としています。

### 活用例

個人的な感想になってしまいますが、これらの特徴から下記のような環境に適しているフレームワークであると感じています。

- 環境の異なる複数のプロダクトを横断したUIパーツ群
- レガシなフロントエンド環境を運用を行いながらリプレイスする場合
- サーバーサイドの仕様・要件などが不明確な場合

### 環境の異なる複数のプロダクトを横断したUIパーツ群

Lit最大の長所はデザインシステムとの相性の良さであると考えています。  
組織内で複数のフレームワークを利用していても、逆にプレーンな環境のLPなどであってもバンドルされたコンポーネントファイルを読み込むだけで統一されたデザインシステムを利用することができます。  
詳しい内容については後述しますが、Litを利用したコンポーネントはあくまでカスタム要素として定義されるため、外部から読み込んだコンポーネントに対して更にJavascriptで操作を行うことも可能で通常のHTML要素と近い感覚で扱うことができます。

### レガシなフロントエンド環境のリプレイス

これも全く違った方向性で面白いなと思うのですが、様々な制約でフレームワークの導入が難しい場合などにもLitが導入可能な場合があります。  
Litはエコシステムを限定しないため、既存の環境を使用しつつ単一ファイルで管理しやすいUIの構築を進めていくことが可能です。

## 短所・難しいところ

流石に良いところばかり宣伝していては良くないので個人的に学習が難しいと感じる箇所をまとめておきます。  
Lit自体は非常にシンプルでわかりやすい構造で、学んだ機能だけ使うという進め方も可能なのでそこまで学習コストは高くない認識ですが気をつけるポイントとして記載します。

### HTMLの仕様に関しての知識が必要になる

WebComponentsである以上避けられない問題なのですが、どの機能がLit独自のものか標準仕様なのか判断する必要があります。  
一例として[`slot`要素](https://developer.mozilla.org/ja/docs/Web/HTML/Element/slot)や[`slotchange`イベント](https://developer.mozilla.org/ja/docs/Web/API/HTMLSlotElement/slotchange_event)などは標準仕様ですのでLitのドキュメントページを見るのではなくMDN等で仕様を確認したほうがスムーズに開発を進められます。  
またカスタム要素を作成するため、各種DOMインターフェイスや要素の継承関係やプロパティに関しての知識も必要となります。  

ただ、これらの知識は普通にJavascriptやDOMを触っていれば理解できるレベルですのでそこまで高度な仕様に関しての知識が求められるというわけではなく  
あくまで基礎知識があれば十分で、あとは調べ方の問題だと思います。

### 自由度の高さ

自由度が高いというと長所であると感じる方もいらっしゃるかとは思われますが、私は保守性という観点では自由度の高さは短所であると考えています。  
通常のフレームワークであれば、フレームワークが用意している手法で設計を進めなければならないのですが、同じ処理でも様々な書き方ができてしまうためコードレビューやチーム内での方向性の統一に関わるコストが必要になると感じました。

## まとめ

Litはデザインシステムの構築に向いていて、HTMLの仕様に関しての知識を活かす機会が多いため

- デザイン領域にも関心のあるエンジニア
- HTML(a11y)の仕様に興味のあるエンジニア

または既に知識なある方などには非常に相性がよく、設計も行いやすいフレームワークであると感じています。

今度は別の記事で具体的なコンポーネントの書き方について解説しようと思うので今しばらくお待ち下さい。
