---
title: "ライブ配信に関する知識"
emoji: "😎"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["OBS"]
published: false
---
# ライブ配信に関する技術
自分はゲーム系のイベントにて配信周りのお手伝いをさせていただくことが多いのですが、その中で得た知識などをまとめておきたいと思っていて記事にまとめようと思っています。  
アマチュアでなんとなく配信関係詳しいんでしょ？って感じで依頼されたりして手伝っていく中で自己流でまとめたことなので、本職の方からしたら鼻で笑うような内容かもしれませんが
趣味としてコミュニティの技術スタッフとして楽しみたいなという人がスムーズに「よくわかんないけど難しそうなこと話してる人たち」の中に入っていくためのきっかけになれば幸いです。
## この記事について
前提条件としてそこまで知識のない人がコミュニティのイベントなどでお手伝いができるための基礎知識をまとめています。  
突き詰めるとどこまでも潜っていける世界なので、勉強は程々にしてある程度手を動かして覚えたほうがいいと思います。  

ひとまず、ハードウェア系とソフトウェア系に分けてお話しますが実際にはそんなに役割が明確に別れているわけではなくみんなだいたい一人でやっちゃいます。  
自分は個人的にオペレーターは２人組（ハードウェアや演出に詳しい人＋ソフトウェアに詳しい人）でやるのがベストだと考えているためその役割分担というのが頭にあるためこのような分け方になっています。  
また、ここで上げた全ての知識が必要といえばそこまでではなく、お手伝いで入る程度ならOBSの操作をして配信ができる程度の知識でも歓迎されると思います。  
### コミュニティベースの配信について
コミュニティベースのイベントの場合潤沢な資金があるわけではないので、基本的にチームメンバーが持ち寄った機材と会場の機材を使って配信環境を構築する場合が多いです。  
そのため、高価で多機能な機材などはなく「工夫でどうにかする」という場合が多いです。そのため  
- 最低限必要なものを揃える
- 無駄なく機材を持ち込み運営する
- 急なトラブルも配信を止めずに対応する

ということが大切です。   
## ハードウェア系
ハードウェア系の知識がある人は基本的に環境を整えるのがお仕事なのでオンラインイベントだとそこまで出番はありません。  
また、ソフトウェアと違い準備をしてもトラブルが起きやすい環境が多いため、トラブルシューティング能力が必要です。    
### キャプチャーボード
オフラインイベントでは確実に使うといっても過言ではないキャプチャーボードです。  
HDMIなどで入力された映像をOBSなどの配信ソフト等で使用するために使います。  
最近では[OBS NDI](https://obsproject.com/forum/resources/obs-ndi-newtek-ndi%E2%84%A2-integration-into-obs-studio.528/)などがありますがどちらかというと、キャプチャーボードを使うのがスタンダードだと思います。  
トラブルの原因になりやすい箇所でもあるので適切な知識と機材選定ができるとよいです。  
業務用のキャプチャーボードを使うことはコミュニティレベルではまずないため、配信者向けに普及している[AVerMedia](https://twitter.com/AVerMediaJapan)の製品などは使う機会も多いかと思います。  
#### 入出力端子
これはどちらかというとPC本体の知識に近いですが、ゲーム系のイベントだとよくあるのが端子の問題です。  
PCだけでもDVIやHDMI、DisplayPortなど様々で、コンシューマゲームが登場する場合更にカオスを極めます。  
自分はPCゲームのイベントが多かったため基本的にはHDMIでどうにかなっていましたが  
HDMIケーブルをDisplayPortの端子に刺そうとして格闘しているとかなり滑稽です。  
また、同じDVIやHDMIでも帯域などが異なり思わぬトラブルに巻き込まれます。  
キャプチャーボードの場合多くはHDMI入力のものが多いので場合によってはコンバーターなどが必要になる可能性があります。  
#### エンコード方式
ここでのエンコード方式はキャプチャーボードのエンコード方式です。  
ハードウェアエンコードとソフトウェアエンコードというものが存在しますが、これに関しては最初はそういう種類があるんだな程度で問題ないと思います。  
@[tweet](https://twitter.com/AVerMediaJapan/status/1326665568045264899)  
### Windows及びPCハード知識
現状では、ライブ配信はWindowsが前提です。  
これはMacだと配信を行うだけでも様々な設定を変更したりソフトを入れる必要があったり、手順が煩雑になりやすく  
ハードウェア面でもNvidiaのグラフィックカードが使えなかったりすると不利になったりすることが多いためです。  

コミュニティイベントだとPCは持ち込んだり、貸していただける場合があるのですが  
どれをゲーム用や配信用に振り分けるのかという判断が必要な場合があります。  
#### CPU
最近ではGPUでのエンコード（NVENC）が主流のため、個人的にはそこまでCPUパワーは必要なくなってきています。  
しかしながらあまりに貧弱なCPUでは影響が出てきますのでCPUの種類や型番を見てある程度の性能が分かる程度の知識は必要です。  
もしPCゲームのイベントの場合CPUがいいものはゲーム用に割り当ててあげたほうがいいと思っています。  
#### GPU
上記でも話したように現在はGPUエンコード（NVENC）が主流です。  
このエンコード方式はNvidiaのグラフィックボードでの方式ですので型番を見てNVENC対応かどうかを確認する必要があります。  
また、NVENCでもOBSのNVENC(new)が使える機種を選ぶ必要があります。  
そのため配信用PCにはNvidiaのものをその他のPCにはRadeonを回してあげたほうがいいです。
### カメラ
オフラインの会場ではカメラを使用して演者を撮影したり会場を写したりしますがカメラの選定などもできると助かります。  
基本的にはWebカメラを使用して、簡易的に撮影する場合が大多数だと思いますが結構一眼とか持ってる方がチームにいたりすると使える場合があったりします。  
正直学習の優先度としては高くないのですが、演出方面に興味のある方は知識をつけておくと役立ちます。  
#### Webカメラ
一番安価で持っている人も多いので集まりやすい機材です。 
ただ集まったからといって１つのPCに複数のWebカメラを接続すると不具合の元になるためNGです。  
また、Webカメラの場合どうしても通常のカメラの撮影に比べると画質が悪いため併用する場合は  
小さいパーツ（ワイプ等）に使用するようにしましょう。  
#### 一眼レフ
#### ビデオカメラ
#### ライティング等
### オーディオ
#### マイク
まず最初に、マイクチェックでマイクを叩くのはNGです。  
他の知識が無くてもある程度は仕方がないのですがマイクを叩くような人に音響機器は触らせられません。  
#### ミキサー
#### Audio I/F
### ネットワーク機器

## ソフトウェア系
ソフトウェア系の人は主に開催中のOBSの操作や配信レイアウトの作成、当日のPC上での配信環境構築などを行います。  
どちらかというと事前準備力が大切でそこをしっかりしていればトラブルは少なくできます。  
また、後述するNodeCGでのレイアウト構築や操作ができるかによってかなり価値が上下する界隈でもあります。  
### 各種サービス
#### Twitch
#### YouTubeLive
#### streamlabs
### OBSstudio
### Web系の言語の基礎知識
配信とWebはかなり密接に関わっています。  
streamlabsでのウィジェットなどは主にHTML/CSSで作られているためカスタマイズにはWeb系の技術が必要になります。  
各種プラットフォームの拡張機能の開発などができたり、OBSのブラウザソースを使用して高度なレイアウトの制作が可能になります。  
また、後述するNodeCGは少し大きな規模のイベントでは必要性が高いですが、レイアウトの制作まで行える人が少ないため作れることの価値は非常に高いと思います。  
#### NodeCGについて
NodeCGは簡単に言えばWebの技術をつかって配信のレイアウト＋管理ツールを作れるNode.jsのフレームワークです。  
内部的な実装や使用方法などについて触れるとそれだけで記事がいくつかできてしまうため割愛しますが  
bundleという管理画面とデザイン画面などをまとめたファイルを作成しそれをNodeCGで使うことによってブラウザ上でデータのやり取りや表示が可能になります。  
OBS側から見るとOBSのブラウザソースを介してブラウザの画面に描写されたレイアウトをそのままOBSで使うようなイメージです。  
##### メリット
従来の配信のレイアウト作成は背景などのアセットを画像で書き出して配置して、テキストを直接打ち込んで…  
という風に非常にアナログでしたが、それだとOBSの操作中にデザインが崩れてしまったり、下記のような動的な表現が難しかったりします。  
- ツイッターのタイムラインのリアルタイム反映
- 膨大な参加者情報と配信画面の連携
NodeCGはブラウザの画面を読み込むためWebの技術の応用が容易です。  
APIを使用して外部サービスとの連携をしたり、各種Javascriptのライブラリも使用できます。  
### 